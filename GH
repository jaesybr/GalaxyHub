local UserInputService = game:GetService("UserInputService")
local CoreGui = gethui() or game:GetService("CoreGui")

-- Cleanup old UI
if CoreGui:FindFirstChild("GalaxyHub_Project") then CoreGui:FindFirstChild("GalaxyHub_Project"):Destroy() end

local Library = {
    Visible = true,
    Theme = {
        MainColor = Color3.fromRGB(20, 20, 20),
        AccentColor = Color3.fromRGB(120, 80, 255),
        OutlineColor = Color3.fromRGB(40, 40, 40),
        FontColor = Color3.fromRGB(255, 255, 255)
    }
}

local ScreenGui = Instance.new("ScreenGui", CoreGui)
ScreenGui.Name = "GalaxyHub_Project"
ScreenGui.ResetOnSpawn = false

function Library:CreateWindow(Name, Size)
    local Window = { Tabs = {}, CurrentTab = nil }
    
    -- Main Frame
    local Main = Instance.new("Frame", ScreenGui)
    Main.Name = "Main"
    Main.BackgroundColor3 = Library.Theme.MainColor
    Main.BorderSizePixel = 0
    Main.Position = UDim2.new(0.5, -250, 0.5, -200)
    Main.Size = UDim2.fromOffset(Size.X, Size.Y)
    Instance.new("UIStroke", Main).Color = Library.Theme.OutlineColor

    -- Top Bar (Title)
    local TopBar = Instance.new("Frame", Main)
    TopBar.Size = UDim2.new(1, 0, 0, 35)
    TopBar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    
    local TLabel = Instance.new("TextLabel", TopBar)
    TLabel.Size = UDim2.new(1, -10, 1, 0)
    TLabel.Position = UDim2.fromOffset(10, 0)
    TLabel.Text = Name; TLabel.TextColor3 = Library.Theme.FontColor; TLabel.Font = Enum.Font.Code; TLabel.TextSize = 16; TLabel.TextXAlignment = 0; TLabel.BackgroundTransparency = 1

    -- Tab Holder
    local TabList = Instance.new("Frame", Main)
    TabList.Position = UDim2.fromOffset(0, 35)
    TabList.Size = UDim2.new(1, 0, 0, 30)
    TabList.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    local TabLayout = Instance.new("UIListLayout", TabList)
    TabLayout.FillDirection = Enum.FillDirection.Horizontal; TabLayout.Padding = UDim.new(0, 2)

    -- Content Area
    local ContentFrame = Instance.new("Frame", Main)
    ContentFrame.Position = UDim2.fromOffset(5, 70)
    ContentFrame.Size = UDim2.new(1, -10, 1, -75)
    ContentFrame.BackgroundTransparency = 1

    function Window:CreateTab(Text)
        local Tab = { Active = false }
        
        local TBtn = Instance.new("TextButton", TabList)
        TBtn.Size = UDim2.new(0, 100, 1, 0)
        TBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TBtn.Text = Text; TBtn.TextColor3 = Color3.fromRGB(150, 150, 150); TBtn.Font = Enum.Font.Code; TBtn.TextSize = 14; TBtn.BorderSizePixel = 0

        local Page = Instance.new("ScrollingFrame", ContentFrame)
        Page.Size = UDim2.new(1, 0, 1, 0); Page.BackgroundTransparency = 1; Page.Visible = false; Page.ScrollBarThickness = 2; Page.CanvasSize = UDim2.new(0,0,0,0); Page.AutomaticCanvasSize = "Y"
        Instance.new("UIListLayout", Page).Padding = UDim.new(0, 10)

        function Tab:Select()
